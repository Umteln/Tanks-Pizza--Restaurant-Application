{"ast":null,"code":"import _toConsumableArray from\"/Users/amera-cs-intern/Desktop/pizza-app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/amera-cs-intern/Desktop/pizza-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState}from'react';import{productsArray,getProductData}from'./productStore';import{jsx as _jsx}from\"react/jsx-runtime\";export var CartContext=/*#__PURE__*/createContext({items:[],getDefaultCart:function getDefaultCart(){},getProductQuantity:function getProductQuantity(){},//placeholder basically stating a function will be here\naddOneToCart:function addOneToCart(){},removeOneFromCart:function removeOneFromCart(){},deleteFromCart:function deleteFromCart(){},getTotalCost:function getTotalCost(){}});export function CartProvider(_ref){var children=_ref.children;var _useState=useState(productsArray),_useState2=_slicedToArray(_useState,2),cartProducts=_useState2[0],setCartProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openLinks=_useState4[0],setOpenLinks=_useState4[1];//functions\nvar updateLocalStorage=function updateLocalStorage(tempCart){setCartProducts(tempCart);localStorage.setItem('cart',JSON.stringify(tempCart));};//add one to cart\nfunction addOneToCart(id){var tempCart=_toConsumableArray(cartProducts);tempCart.forEach(function(cartProduct,index){if(cartProduct.id===id){tempCart[index].quantity++;}});updateLocalStorage(tempCart);}// remove one from cart\nfunction minusOneFromCart(id){var tempCart=_toConsumableArray(cartProducts);tempCart.forEach(function(cartProduct,index){if(cartProduct.id===id){tempCart[index].quantity--;}});updateLocalStorage(tempCart);}function getCartItems(){var items=[];cartProducts.forEach(function(cartItem){if(cartItem.quantity>0){items.push(cartItem);}setCartProducts(items);});}//total cost\nfunction getTotalCost(){var totalCost=0;cartProducts.forEach(function(cartItem){var productData=getProductData(cartItem.id);totalCost+=productData.price*cartItem.quantity;});return totalCost.toFixed(2);}var contextValue={items:cartProducts,cartProducts:cartProducts,getCartItems:getCartItems,setCartProducts:setCartProducts,addOneToCart:addOneToCart,minusOneFromCart:minusOneFromCart,getTotalCost:getTotalCost,openLinks:openLinks,setOpenLinks:setOpenLinks};return/*#__PURE__*/_jsx(CartContext.Provider,{value:contextValue,children:children});}export default CartProvider;","map":{"version":3,"names":["createContext","useState","productsArray","getProductData","CartContext","items","getDefaultCart","getProductQuantity","addOneToCart","removeOneFromCart","deleteFromCart","getTotalCost","CartProvider","children","cartProducts","setCartProducts","openLinks","setOpenLinks","updateLocalStorage","tempCart","localStorage","setItem","JSON","stringify","id","forEach","cartProduct","index","quantity","minusOneFromCart","getCartItems","cartItem","push","totalCost","productData","price","toFixed","contextValue"],"sources":["/Users/amera-cs-intern/Desktop/pizza-app/client/src/utils/cartContext.js"],"sourcesContent":["import { createContext, useState } from 'react';\nimport { productsArray, getProductData } from './productStore';\n\nexport const CartContext = createContext({\n\titems: [],\n\tgetDefaultCart: () => {},\n\tgetProductQuantity: () => {}, //placeholder basically stating a function will be here\n\taddOneToCart: () => {},\n\tremoveOneFromCart: () => {},\n\tdeleteFromCart: () => {},\n\tgetTotalCost: () => {},\n});\n\nexport function CartProvider({ children }) {\n\tconst [cartProducts, setCartProducts] = useState(productsArray);\n\tconst [openLinks, setOpenLinks] = useState(false);\n\n\t//functions\n\n\tconst updateLocalStorage = (tempCart) => {\n\t\tsetCartProducts(tempCart);\n\t\tlocalStorage.setItem('cart', JSON.stringify(tempCart));\n\t};\n\n\t//add one to cart\n\n\tfunction addOneToCart(id) {\n\t\tconst tempCart = [...cartProducts];\n\t\ttempCart.forEach((cartProduct, index) => {\n\t\t\tif (cartProduct.id === id) {\n\t\t\t\ttempCart[index].quantity++;\n\t\t\t}\n\t\t});\n\t\tupdateLocalStorage(tempCart);\n\t}\n\n\t// remove one from cart\n\tfunction minusOneFromCart(id) {\n\t\tconst tempCart = [...cartProducts];\n\t\ttempCart.forEach((cartProduct, index) => {\n\t\t\tif (cartProduct.id === id) {\n\t\t\t\ttempCart[index].quantity--;\n\t\t\t}\n\t\t});\n\t\tupdateLocalStorage(tempCart);\n\t}\n\n\tfunction getCartItems() {\n\t\tlet items = [];\n\t\tcartProducts.forEach((cartItem) => {\n\t\t\tif (cartItem.quantity > 0) {\n\t\t\t\titems.push(cartItem);\n\t\t\t}\n\t\t\tsetCartProducts(items);\n\t\t});\n\t}\n\n\t//total cost\n\tfunction getTotalCost() {\n\t\tlet totalCost = 0;\n\t\tcartProducts.forEach((cartItem) => {\n\t\t\tconst productData = getProductData(cartItem.id);\n\t\t\ttotalCost += productData.price * cartItem.quantity;\n\t\t});\n\t\treturn totalCost.toFixed(2);\n\t}\n\n\tconst contextValue = {\n\t\titems: cartProducts,\n\t\tcartProducts,\n\t\tgetCartItems,\n\t\tsetCartProducts,\n\t\taddOneToCart,\n\t\tminusOneFromCart,\n\t\tgetTotalCost,\n\t\topenLinks,\n\t\tsetOpenLinks,\n\t};\n\n\treturn (\n\t\t<CartContext.Provider value={contextValue}>{children}</CartContext.Provider>\n\t);\n}\n\nexport default CartProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}